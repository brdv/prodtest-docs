---
title: Data Separation
sidebar_position: 5
slug: data-separation
---

We have talked about ways to separate data when using a dark launch [over here](/tip-basics/dark-launch/data-separation). On this page we will look at how data separation is implemented in the [prodtest-demo](https://github.com/brdv/prodtest-demo) project's dark launch.

## Situation

As a refresher, the architecture of the demo project:

![demo project architecture](./img/components-overview.png)

In the demo, we have two main components that store or save data: the message queue and the database. The kitchen service publishes new orders onto the message queue. The kitchen service is subscribe to the queue that those messages are published to and - after preparing - will save handled orders into a database.

This leaves us with two possible ways of data congestion: the database and the message queue.

## Options and choice

As described [here](/tip-basics/dark-launch-data-separation) there are various options to separate data in both a message queue and in a database. This section describes what options are chosen for the demo project, and why.

### Database

For databases, the main three options are: using a separate database, using a separate table and extending the data model. The option that was implemented in the demo project, is using a separate table. The main reason for this choice is that the database of the demo project is quite simple. It has only one table that is only used to write to. This means that adding a separate table will have minor impact on the database's performance. Thereby it is quite a simple solution, since we only have to specify and somehow create a separete table to be used by Vnext. Last, but not least, the data generated by Vnext will not be congesting the Vlatest data and the code will still have the desired cleanliness.

### Message queue

## Implementation
